{
  "type": "function",
  "function": {
    "name": "book_appointment",
    "description": "Books a confirmed consultation appointment in the calendar. Use this function ONLY after: 1) You have checked availability using check_calendar_availability, 2) The customer has confirmed they want to book that specific time, 3) You have their contact information. If a contact was already created using create_contact, include the contactId.",
    "parameters": {
      "type": "object",
      "properties": {
        "fullName": {
          "type": "string",
          "description": "Customer's full name, e.g., 'John Doe'. Required if contactId is not provided."
        },
        "email": {
          "type": "string",
          "description": "Customer's email address (required for confirmation email)"
        },
        "phone": {
          "type": "string",
          "description": "Customer's phone number in international format, e.g., +447700900000 (required)"
        },
        "contactId": {
          "type": "string",
          "description": "GHL contact ID if the contact was already created using create_contact function. If provided, this will be used instead of creating a new contact."
        },
        "bookingDate": {
          "type": "string",
          "description": "The date for the appointment in YYYY-MM-DD format, e.g., '2025-11-10'"
        },
        "bookingTime": {
          "type": "string",
          "description": "The time for the appointment in 24-hour format, e.g., '14:00'"
        },
        "timezone": {
          "type": "string",
          "description": "Timezone for the appointment. Default is 'Europe/London'. Use 'Asia/Dubai' for Dubai.",
          "default": "Europe/London"
        },
        "appointmentTitle": {
          "type": "string",
          "description": "Title for the appointment. Default is 'Keey Property Consultation'",
          "default": "Keey Property Consultation"
        }
      },
      "required": ["email", "phone", "bookingDate", "bookingTime"]
    }
  },
  "async": false,
  "server": {
    "url": "https://vapi-keey-voice-assistant-production.up.railway.app/webhook/vapi",
    "secret": "d8cde4628cf511b5cf14c7c106154e226ee7721ba5235319faeac5c2562988aa"
  }
}

